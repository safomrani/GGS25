<!DOCTYPE html>
<html>
<head>
    <title>Green Growth Summit 2025 - Speaker Registration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-green: #0A9B7F;
            --secondary-green: #088973;
            --primary-red: #D13239;
            --primary-gray: #3B3B3B;
            --light-bg: #E9F9F5;
        }
        
        body {
            background-color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 0;
            margin: 0;
            color: var(--primary-gray);
        }
        
        .top-banner {
            background-color: var(--primary-red);
            color: white;
            text-align: center;
            padding: 10px 20px;
            font-weight: 600;
        }
        
        .header {
            padding: 20px 0;
            background-color: white;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .logo {
            width: 120px;
            height: auto;
            object-fit: contain;
        }
        
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .form-section {
            background-color: var(--light-bg);
            padding: 60px 0;
            position: relative;
            overflow: hidden;
        }
        
        .form-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 30px;
            position: relative;
            z-index: 2;
        }
        
        .form-title {
            color: var(--primary-green);
            font-weight: 700;
            margin-bottom: 30px;
            font-size: 28px;
            border-bottom: 2px solid var(--primary-green);
            padding-bottom: 10px;
        }
        
        .form-subtitle {
            color: var(--primary-gray);
            font-weight: 600;
            margin: 25px 0 15px;
            font-size: 20px;
        }
        
        .result-container {
            display: none;
            margin-top: 40px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .result-header {
            background-color: var(--primary-green);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 20px;
        }
        
        .result-body {
            padding: 25px;
            background-color: white;
        }
        
        .form-control {
            border-radius: 6px;
            padding: 12px 15px;
            border: 1px solid #ddd;
        }
        
        .form-control:focus {
            border-color: var(--primary-green);
            box-shadow: 0 0 0 0.25rem rgba(10, 155, 127, 0.25);
        }
        
        .btn-primary {
            background-color: var(--primary-green);
            border-color: var(--primary-green);
            padding: 12px 24px;
            font-weight: 600;
            border-radius: 6px;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-green);
            border-color: var(--secondary-green);
        }
        
        .btn-outline-secondary {
            border-color: var(--primary-gray);
            color: var(--primary-gray);
            padding: 12px 24px;
            font-weight: 600;
            border-radius: 6px;
        }
        
        .btn-outline-secondary:hover {
            background-color: var(--primary-gray);
            color: white;
        }
        
        .form-check-input:checked {
            background-color: var(--primary-green);
            border-color: var(--primary-green);
        }
        
        #spinner {
            display: none;
        }
        
        .footer {
            background-color: var(--primary-gray);
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-top: 60px;
        }
        
        .sponsors {
            background-color: #f8f8f8;
            padding: 40px 0;
            text-align: center;
        }
        
        .sponsor-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-gray);
        }
        
        .sponsor-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
        }
        
        .sponsor-section:not(:last-child) {
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 30px;
        }
        
        @media (max-width: 767px) {
            .form-section {
                padding: 40px 0;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .sponsors .d-flex {
                flex-wrap: wrap;
                justify-content: center !important;
                gap: 15px !important;
            }
            
            .sponsors .container-fluid {
                padding-left: 10px;
                padding-right: 10px;
            }
            
            .sponsors [style*="width: 150px"] {
                width: 100px !important;
                height: 60px !important;
            }
            
            .sponsors [style*="max-height: 65px"] {
                max-height: 50px !important;
            }
            
            .sponsors .row > div {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
 
    <div class="header">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="logo-container d-flex align-items-center justify-content-center" style="width: 180px;">
                <img src="/static/GGS-Logo.png" alt="Green Growth Summit Logo" class="logo" style="width: 180px;">
            </div>
            <div class="text-center flex-grow-1 d-none d-md-block">
                <strong class="d-block" style="color: var(--primary-green);">#GGSummit25</strong>
            </div>
            <div class="logo-container d-flex align-items-center justify-content-center" style="width: 100px;">
                <img src="/static/HIVOS-2.jpg" alt="Hivos Logo" class="logo" style="width: 100px;">
            </div>
        </div>
    </div>
    
    
    <div class="form-section">
        <div class="container">
            <div class="form-container">
                <h1 class="form-title">Green Growth Summit 2025 - Speaker Registration</h1>
                <p>Greetings,</p>
                <p>We're excited to welcome you as a speaker at the second edition of the <strong><a href="https://ggsummit.me/">Green Growth Summit</a></strong>, taking place on <strong>June 16, 2025</strong>, at the <strong><u><a href="https://www.sofitel-cairo-nile-elgezirah.com/">Sofitel Cairo Downtown Nile</a></u></strong>.</p>
                <p>Convened by <a href="https://hivos.org">Hivos</a> under the theme "Unlocking Solutions and Innovative Finance," this year's summit will focus on accelerating the green transition in the MENA region. We're thrilled to have you join leading voices from across the green economy, startups, investors, donors, and policymakers, for a day of meaningful dialogue and collaboration.</p>
                <p>Please take a moment to complete the form below to fill in your details and help us collect the necessary information.</p>

                <form id="ticket-form">
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="email" class="form-label">Email Address *</label>
                            <input type="email" class="form-control" id="email" required>
                            <small class="text-muted">Please use the same email address where this invitation was sent</small>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="first_name" class="form-label">First Name *</label>
                            <input type="text" class="form-control" id="first_name" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="last_name" class="form-label">Last Name *</label>
                            <input type="text" class="form-control" id="last_name" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="gender" class="form-label">Gender</label>
                            <select class="form-select" id="gender">
                                <option value="">Select an option</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="position" class="form-label">Position/Job Title *</label>
                            <input type="text" class="form-control" id="position" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="organization_name" class="form-label">Organization Name *</label>
                            <input type="text" class="form-control" id="organization_name" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="organization" class="form-label">Organization Type</label>
                            <select class="form-select" id="organization">
                                <option value="">Select an option</option>
                                <option value="Public Sector / Government">Public Sector / Government (e.g. ministries, public agencies)</option>
                                <option value="Financial Institution / Investor">Financial Institution / Investor (e.g. banks, VCs, DFIs, insurance firms)</option>
                                <option value="Private Sector">Private Sector (e.g. startups, SMEs, corporates, consultants)</option>
                                <option value="Civil Society / NGOs / Community Organizations">Civil Society / NGOs / Community Organizations</option>
                                <option value="International Organizations / Donors">International Organizations / Donors (e.g. UN agencies, bilateral/multilateral donors)</option>
                                <option value="Academic / Research Institutions">Academic / Research Institutions (e.g. universities, think tanks, labs)</option>
                                <option value="Media and Communications">Media and Communications</option>
                                <option value="Other">Other (please specify)</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3" id="organization_other_container" style="display: none;">
                            <label for="organization_other" class="form-label">Please specify</label>
                            <input type="text" class="form-control" id="organization_other">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="photo_url" class="form-label">Insert Photo</label>
                            <input type="url" class="form-control" id="photo_url" placeholder="https://example.com/your-photo.jpg">
                            <small class="text-muted">Link to a professional photo of yourself</small>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="linkedin_profile" class="form-label">LinkedIn Profile *</label>
                            <input type="url" class="form-control" id="linkedin_profile" placeholder="https://linkedin.com/in/your-profile" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="interests" class="form-label">What are you most looking forward to at the Green Growth Summit?</label>
                            <select class="form-select" id="interests">
                                <option value="">Select an option</option>
                                <option value="Connecting with potential partners or collaborators">Connecting with potential partners or collaborators</option>
                                <option value="Learning about green trends and innovations in the region">Learning about green trends and innovations in the region</option>
                                <option value="Exploring funding or investment opportunities">Exploring funding or investment opportunities</option>
                                <option value="Identifying potential startups for investment">Identifying potential startups for investment</option>
                                <option value="Gaining practical tools or knowledge for my work">Gaining practical tools or knowledge for my work</option>
                                <option value="Showcasing my organization's work or experience">Showcasing my organization's work or experience</option>
                                <option value="Understanding policy developments and government priorities">Understanding policy developments and government priorities</option>
                                <option value="Engaging in open dialogue with diverse ecosystem actors">Engaging in open dialogue with diverse ecosystem actors</option>
                                <option value="Other">Other (please specify)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row" id="interests_other_container" style="display: none;">
                        <div class="col-md-6 mb-3">
                            <label for="interests_other" class="form-label">Please specify</label>
                            <input type="text" class="form-control" id="interests_other">
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="photo_consent">
                            <label class="form-check-label" for="photo_consent">
                                I hereby consent to being photographed and recorded on video during the event. I understand that these visuals may be used for promotional purposes, including but not limited to social media, Hivos website, and other communication materials
                            </label>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="email_ticket" checked>
                            <label class="form-check-label" for="email_ticket">
                                Send ticket confirmation to my email
                            </label>
                        </div>
                    </div>
                    <p class="fst-italic mb-4">Fields marked with * are mandatory</p>

                    <!-- Hidden fields for tenant_id, venue_id, and ticket_tier_id -->
                    <input type="hidden" id="tenant_id" value="ali">
                    <input type="hidden" id="venue_id" value="67f30f6f0fc474dfbe007460">
                    <input type="hidden" id="ticket_tier_id" value="67f3113c0fc474dfbe007462">
                    <input type="hidden" id="guest_list_type" value="speaker">
                    
                    <div class="d-grid gap-2 d-md-flex mt-4">
                        <button type="submit" class="btn btn-primary">
                            <span id="spinner" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                            Complete Registration
                        </button>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted fst-italic">
                            Please note that this information will be collected for the purpose of organizing the event and will be deleted afterward, in accordance with the EU General Data Protection Regulation (GDPR).
                        </small>
                    </div>
                </form>
            </div>

            <div id="result" class="result-container">
                <div class="result-header">Registration Result</div>
                <div class="result-body">
                    <div id="result-content"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="sponsors py-5 bg-white">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="text-center mb-3">
                        <div class="sponsor-title">In Partnership With</div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center gap-4">
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/sponsored By 1.png" alt="Spark Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/sponsored by 2.png" alt="EU Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/GGF.jpg" alt="Green for Growth Fund Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/Green Academy.png" alt="Green Academy Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="text-center mb-3">
                        <div class="sponsor-title">With Support From</div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center gap-4">
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/With Support From Logo CMYK- Challenge Fund for Youth Employment.png" alt="Challenge Fund for Youth Employment Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/with support from mofa dutch-logo.png" alt="Ministry of Foreign Affairs Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="text-center mb-3">
                        <div class="sponsor-title">Implementation Partner</div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center">
                        <div style="height: 80px; width: 150px; display: flex; align-items: center; justify-content: center;">
                            <img src="/static/Implemented by.png" alt="New Silk Roads Logo" class="img-fluid" style="max-height: 65px; max-width: 130px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <div class="container">
            <p>&copy; 2025 Green Growth Summit. All rights reserved. Convened by <a href="https://hivos.org/" target="_blank" class="text-white">Hivos</a>, implemented by <a href="https://newsilkroads.com/" target="_blank" class="text-white">New Silk Roads</a>.</p>
        </div>
    </div>

    <script>
        // Parse URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const emailParam = urlParams.get('email');
        const tenantIdParam = urlParams.get('tenant_id');
        
        // Set email and tenant ID if provided in URL
        if (emailParam) {
            document.getElementById('email').value = emailParam;
            // Make email field readonly since it's verified
            document.getElementById('email').readOnly = true;
            
            // We don't need another API call to check the email
            // since if the user arrives here with an email parameter
            // it means the email was already validated by the server
        }
        
        // Set tenant ID if provided
        if (tenantIdParam) {
            document.getElementById('tenant_id').value = tenantIdParam;
        }
        
        // Show/hide other text field for organization
        document.getElementById('organization').addEventListener('change', function() {
            const otherContainer = document.getElementById('organization_other_container');
            if (this.value === 'Other') {
                otherContainer.style.display = 'block';
            } else {
                otherContainer.style.display = 'none';
            }
        });
        
        // Show/hide other text field for interests
        document.getElementById('interests').addEventListener('change', function() {
            const otherContainer = document.getElementById('interests_other_container');
            if (this.value === 'Other') {
                otherContainer.style.display = 'block';
            } else {
                otherContainer.style.display = 'none';
            }
        });
        
        // Form submission
        document.getElementById('ticket-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const firstName = document.getElementById('first_name').value;
            const lastName = document.getElementById('last_name').value;
            const tenantId = document.getElementById('tenant_id').value;
            const gender = document.getElementById('gender').value;
            const city = document.getElementById('city').value;
            const photoConsent = document.getElementById('photo_consent').checked;
            
            // Handle organization with potential "Other" option
            let organization = document.getElementById('organization').value;
            if (organization === 'Other') {
                organization = document.getElementById('organization_other').value;
            }
            
            const position = document.getElementById('position').value;
            const photoUrl = document.getElementById('photo_url').value;
            const linkedinProfile = document.getElementById('linkedin_profile').value;
            
            // Handle interests with potential "Other" option
            let interests = document.getElementById('interests').value;
            if (interests === 'Other') {
                interests = document.getElementById('interests_other').value;
            }
            
            const venueId = document.getElementById('venue_id').value;
            const ticketTierId = document.getElementById('ticket_tier_id').value;
            const emailTicket = document.getElementById('email_ticket').checked;
            const guestListType = document.getElementById('guest_list_type').value;
            
            // Validate required fields
            if (!email) {
                showError('Email is required');
                return;
            }
            
            if (!firstName) {
                showError('First Name is required');
                return;
            }
            
            if (!lastName) {
                showError('Last Name is required');
                return;
            }
            
            if (!linkedinProfile) {
                showError('LinkedIn Profile is required');
                return;
            }
            
            if (!position) {
                showError('Position/Job Title is required');
                return;
            }
            
            if (!document.getElementById('organization_name').value) {
                showError('Organization Name is required');
                return;
            }
            
            document.getElementById('spinner').style.display = 'inline-block';
            
            // Prepare request data
            const requestData = {
                email: email,
                customer: {
                    name: `${firstName} ${lastName}`,
                    email: email
                },
                venue_id: venueId,
                ticket_tier_id: ticketTierId,
                email_ticket: emailTicket,
                guest_list_type: guestListType,
                first_name: firstName,
                last_name: lastName,
                gender: gender || null,
                city: city || null,
                organization_name: document.getElementById('organization_name').value || null,
                organization: organization || null,
                position: position || null,
                photo_url: photoUrl || null,
                linkedin_profile: linkedinProfile || null,
                interests: interests || null,
                photo_consent: photoConsent
            };
            
            console.log('Sending request data:', requestData);
            
            // Make API call to request ticket
            fetch('/api/v1/orders/free-ticket', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'tenant-id': tenantId
                },
                body: JSON.stringify(requestData)
            })
            .then(response => {
                if (!response.ok) {
                    return response.json().then(err => {
                        console.error('Error response:', err);
                        throw new Error(err.detail || `HTTP error! Status: ${response.status}`);
                    });
                }
                return response.json();
            })
            .then(data => {
                // Display the result
                const resultContainer = document.getElementById('result');
                const resultContent = document.getElementById('result-content');
                
                resultContainer.style.display = 'block';
                
                // Format the result with new success message
                let html = `
                    <div class="alert alert-success">
                        <h5 class="mb-3"><i class="fas fa-check-circle me-2"></i>Thank you for registering!</h5>
                        <p>We're excited to have you join us for the Green Growth Summit 2025 on June 16 at the Sofitel Cairo Downtown Nile.</p>
                        <p>To learn more about the summit, please visit <a href="http://www.ggsummit.me" target="_blank">www.ggsummit.me</a>. The full agenda and further details will be shared soonstay tuned!</p>
                    </div>
                    <div class="card mb-4">
                        <div class="card-body">
                            <h6 class="mb-3">Registration Details</h6>
                            <dl class="row mb-0">
                                <dt class="col-sm-4">Confirmation ID:</dt>
                                <dd class="col-sm-8">${data.order_id}</dd>
                                
                                <dt class="col-sm-4">Registration Type:</dt>
                                <dd class="col-sm-8">Speaker Ticket</dd>
                                
                                <dt class="col-sm-4">Status:</dt>
                                <dd class="col-sm-8"><span class="badge bg-success">Confirmed</span></dd>
                            </dl>
                        </div>
                    </div>
                `;
                
                if (emailTicket) {
                    html += `
                        <div class="alert alert-info">
                            <i class="fas fa-envelope me-2"></i>
                            <span>A confirmation email with your ticket has been sent to <strong>${email}</strong></span>
                        </div>
                    `;
                }
                
                resultContent.innerHTML = html;
                
                // Scroll to the result
                resultContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Disable the form
                document.querySelectorAll('#ticket-form input, #ticket-form select, #ticket-form textarea, #ticket-form button').forEach(el => {
                    el.disabled = true;
                });
            })
            .catch(error => {
                const resultContainer = document.getElementById('result');
                const resultContent = document.getElementById('result-content');
                
                resultContainer.style.display = 'block';
                resultContent.innerHTML = `
                    <div class="alert alert-danger">
                        <h5 class="mb-3"><i class="fas fa-exclamation-circle me-2"></i>Registration Error</h5>
                        <p>We're sorry — it looks like the email you entered doesn't match the one we used to send your invitation.</p>
                        <p>Please ensure you're using the same email address associated with your invitation. If you believe this is an error, feel free to contact us for support at <a href="mailto:ggsummit@hivos.org">ggsummit@hivos.org</a></p>
                        <p>Thank you for your understanding!</p>
                    </div>
                `;
                
                // Scroll to the result
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            })
            .finally(() => {
                document.getElementById('spinner').style.display = 'none';
            });
        });
        
        // Helper function to show errors
        function showError(message) {
            alert(message);
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 